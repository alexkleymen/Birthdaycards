{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Yaniv arad\\\\New Projects\\\\BirthDayCards\\\\client\\\\my-app\\\\src\\\\components\\\\events.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect, useContext, useState } from 'react';\nimport { UserContext } from '../App';\nimport axios from 'axios';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Event from './event';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport IconButton from '@material-ui/core/IconButton';\nimport { EventContext } from './EventContext';\n\nconst Events = () => {\n  _s();\n\n  const [user] = useContext(UserContext);\n  const [events, setEvents] = useContext(EventContext);\n  useEffect(() => {\n    axios.get('http://localhost:5000/event/').then(resp => {\n      let allEvents = resp.data;\n      let userEvent = allEvents.filter(event => event.user == user.id);\n      setEvents(userEvent);\n    });\n  }, []);\n\n  const updateevent = ({\n    name,\n    id\n  }) => {\n    let event = events.filter(event => event._id === id);\n    event = event[0];\n    let index = events.findIndex(event => event._id === id);\n    event.name = name;\n    let allEvents = [...events];\n    allEvents.splice(index, 1, event);\n    setEvents(allEvents);\n    axios.put(\"http://localhost:5000/event/\" + id, {\n      \"name\": name\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  return events.length ? /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 3,\n    justify: \"center\",\n    children: events.map((element, index) => {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        style: {\n          marginTop: '20px'\n        },\n        item: true,\n        xs: 12,\n        sm: 6,\n        lg: 3,\n        children: /*#__PURE__*/_jsxDEV(Event, {\n          data: element,\n          callback: updateevent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this) : 'Loading';\n};\n\n_s(Events, \"ZdXZ4QEhlRw4H2QkegynFff+7+Q=\");\n\n_c = Events;\nexport default Events;\n\nvar _c;\n\n$RefreshReg$(_c, \"Events\");","map":{"version":3,"sources":["C:/Yaniv arad/New Projects/BirthDayCards/client/my-app/src/components/events.js"],"names":["React","Component","useEffect","useContext","useState","UserContext","axios","Grid","Paper","Event","AddCircleIcon","IconButton","EventContext","Events","user","events","setEvents","get","then","resp","allEvents","data","userEvent","filter","event","id","updateevent","name","_id","index","findIndex","splice","put","res","console","log","length","map","element","marginTop"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA0BC,SAA1B,EAAoCC,UAApC,EAA+CC,QAA/C,QAA+D,OAA/D;AACA,SAAQC,WAAR,QAA0B,QAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAAQC,YAAR,QAA2B,gBAA3B;;AAGA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAGjB,QAAM,CAACC,IAAD,IAASX,UAAU,CAACE,WAAD,CAAzB;AACA,QAAM,CAACU,MAAD,EAAQC,SAAR,IAAqBb,UAAU,CAACS,YAAD,CAArC;AAEJV,EAAAA,SAAS,CAAC,MAAI;AAEVI,IAAAA,KAAK,CAACW,GAAN,CAAU,8BAAV,EAA0CC,IAA1C,CAA+CC,IAAI,IAAE;AACjD,UAAIC,SAAS,GAAGD,IAAI,CAACE,IAArB;AACA,UAAIC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiBC,KAAK,IAAEA,KAAK,CAACV,IAAN,IAAcA,IAAI,CAACW,EAA3C,CAAhB;AACAT,MAAAA,SAAS,CAACM,SAAD,CAAT;AACH,KAJD;AAMH,GARQ,EAQP,EARO,CAAT;;AAUA,QAAMI,WAAW,GAAG,CAAC;AAACC,IAAAA,IAAD;AAAMF,IAAAA;AAAN,GAAD,KAAe;AAC/B,QAAID,KAAK,GAAGT,MAAM,CAACQ,MAAP,CAAcC,KAAK,IAAEA,KAAK,CAACI,GAAN,KAAYH,EAAjC,CAAZ;AACAD,IAAAA,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAb;AACA,QAAIK,KAAK,GAAGd,MAAM,CAACe,SAAP,CAAiBN,KAAK,IAAEA,KAAK,CAACI,GAAN,KAAYH,EAApC,CAAZ;AACAD,IAAAA,KAAK,CAACG,IAAN,GAAaA,IAAb;AACA,QAAIP,SAAS,GAAG,CAAC,GAAGL,MAAJ,CAAhB;AACAK,IAAAA,SAAS,CAACW,MAAV,CAAiBF,KAAjB,EAAuB,CAAvB,EAAyBL,KAAzB;AACAR,IAAAA,SAAS,CAACI,SAAD,CAAT;AACAd,IAAAA,KAAK,CAAC0B,GAAN,CAAU,iCAAiCP,EAA3C,EAA+C;AAC3C,cAASE;AADkC,KAA/C,EAEGT,IAFH,CAEQe,GAAG,IAAE;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAJD;AAMH,GAdD;;AAiBI,SAAOlB,MAAM,CAACqB,MAAP,gBAGH,QAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAA4B,IAAA,OAAO,EAAC,QAApC;AAAA,cAQIrB,MAAM,CAACsB,GAAP,CAAW,CAACC,OAAD,EAAST,KAAT,KAAmB;AAAE,0BAEhC,QAAC,IAAD;AAAO,QAAA,KAAK,EAAE;AAACU,UAAAA,SAAS,EAAE;AAAZ,SAAd;AAAiD,QAAA,IAAI,MAArD;AAAsD,QAAA,EAAE,EAAE,EAA1D;AAA8D,QAAA,EAAE,EAAE,CAAlE;AAAqE,QAAA,EAAE,EAAE,CAAzE;AAAA,+BAEA,QAAC,KAAD;AAAO,UAAA,IAAI,EAAED,OAAb;AAAsB,UAAA,QAAQ,EAAEZ;AAAhC;AAAA;AAAA;AAAA;AAAA;AAFA,SAAyCG,KAAzC;AAAA;AAAA;AAAA;AAAA,cAFgC;AAU/B,KAVD;AARJ;AAAA;AAAA;AAAA;AAAA,UAHG,GA8BF,SA9BL;AA+BH,CAhED;;GAAMhB,M;;KAAAA,M;AAkEN,eAAeA,MAAf","sourcesContent":["import React, { Component,useEffect,useContext,useState } from 'react';\r\nimport {UserContext} from '../App'\r\nimport axios from 'axios'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Event from './event'\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {EventContext} from './EventContext'\r\n\r\n\r\nconst Events = () => {\r\n\r\n    \r\n    const [user] = useContext(UserContext)\r\n    const [events,setEvents] = useContext(EventContext)\r\n\r\nuseEffect(()=>{\r\n    \r\n    axios.get('http://localhost:5000/event/').then(resp=>{\r\n        let allEvents = resp.data;\r\n        let userEvent = allEvents.filter(event=>event.user == user.id)\r\n        setEvents(userEvent)\r\n    })\r\n\r\n},[])\r\n\r\nconst updateevent = ({name,id}) => { \r\n    let event = events.filter(event=>event._id===id)\r\n    event = event[0]\r\n    let index = events.findIndex(event=>event._id===id)\r\n    event.name = name;\r\n    let allEvents = [...events]\r\n    allEvents.splice(index,1,event)\r\n    setEvents(allEvents)\r\n    axios.put(\"http://localhost:5000/event/\" + id ,{\r\n        \"name\" : name\r\n    }).then(res=>{\r\n        console.log(res)\r\n    })\r\n\r\n}\r\n\r\n\r\n    return events.length ? ( \r\n\r\n        \r\n        <Grid container spacing={3} justify=\"center\"> \r\n\r\n        \r\n        \r\n        \r\n            \r\n            {\r\n            \r\n            events.map((element,index) => { return (\r\n        \r\n            <Grid  style={{marginTop: '20px'}}  key={index}  item xs={12} sm={6} lg={3}>\r\n            \r\n            <Event data={element} callback={updateevent}/>\r\n\r\n            </Grid>\r\n            \r\n\r\n            )\r\n            })\r\n        }\r\n\r\n\r\n            \r\n\r\n        \r\n\r\n        </Grid>\r\n     ) : 'Loading'\r\n}\r\n \r\nexport default Events;"]},"metadata":{},"sourceType":"module"}